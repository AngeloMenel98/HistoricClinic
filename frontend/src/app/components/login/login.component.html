<div class="container">
  <mat-card>
    <form [formGroup]="loginForm" (ngSubmit)="login()">
      <mat-card-content>
        <mat-card-title><h4>Iniciar Sesión</h4></mat-card-title>
        <mat-form-field appearance="fill">
          <mat-label>Nombre de Usuario</mat-label>
          <input matInput formControlName="username" />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Contraseña</mat-label>
          <input
            matInput
            [type]="hide() ? 'password' : 'text'"
            formControlName="password"
          />
          <button
            type="button"
            mat-icon-button
            matSuffix
            (click)="clickEvent($event)"
            [attr.aria-label]="'Hide Password'"
            [attr.aria-pressed]="hide()"
          >
            <mat-icon>{{ hide() ? 'visibility_off' : 'visibility' }}</mat-icon>
          </button>
        </mat-form-field>

        <button
          mat-raised-button
          type="submit"
          [disabled]="isLoading"
          class="session-button"
        >
          <span [class.hidden]>Iniciar Sesión</span>
        </button>

        <div class="spinner">
          @if (isLoading) {
            <mat-spinner diameter="30" />
          }
        </div>

        <a routerLink="/reset-password"><span>¿Olvidó su contraseña?</span></a>
      </mat-card-content>
    </form>
  </mat-card>
</div>
